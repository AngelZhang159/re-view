<div class="relative h-full">

  <div
    [ngStyle]="{'background-image': 'url(https://image.tmdb.org/t/p/original/' + details.backdrop_path + ')'}"
    class="bg-cover bg-center blur-md absolute z-[-10] overflow-hidden w-full h-full opacity-25">
  </div>
  <div class="flex-row flex items-center w-full h-full z-10 p-10">

    <img class="h-[550px] w-auto rounded-2xl blur-3xl absolute z-[-1]"
         ngSrc="https://image.tmdb.org/t/p/original/{{details.poster_path}}"
         alt="backdrop"
         width="100" height="100"/>
    <img class="h-[550px] w-auto rounded-2xl" ngSrc="https://image.tmdb.org/t/p/original/{{details.poster_path}}"
         alt="backdrop"
         width="100" height="100"/>
    <div class="flex-col flex h-full w-screen text-ellipsis overflow-hidden px-6 gap-5">
      <div>
        <h1 class="truncate font-bold overflow-hidden text-6xl pb-4">
          <span>{{ details.name ? details.name : details.title }}</span>
        </h1>

        @if ((details.original_name || details.original_title) &&
        (details.original_name != details.name || details.original_title != details.title)) {
          <h2 class="truncate text-4xl font-bold text-neutral-400">
            <span>{{ details.original_name ? details.original_name : details.original_title }}</span>
          </h2>
        }
      </div>

      <p class="text-xl flex-1">
        {{ details.overview }}
      </p>

      <div class="flex flex-row">
        <div class="flex flex-col gap-5">
          <div class="flex-row">
            <mat-chip-set>
              @for (badge of details.genres; track badge.id) {
                <mat-chip>{{ badge.name }}</mat-chip>
              }
            </mat-chip-set>
          </div>
          <div class="flex flex-row gap-8">

            @if (details.origin_country) {
              <div>
                <span>Origin countries</span>
                <mat-chip-set>
                  @for (country of details.origin_country; track country) {
                    <mat-chip>{{ getCountryFlag(country.toString()) }} {{ country }}</mat-chip>
                  }
                </mat-chip-set>
              </div>
            }
            @if (details.production_countries) {
              <div>
                <span>Production countries</span>
                <mat-chip-set>
                  @for (country of details.production_countries; track country) {
                    <mat-chip>{{ getCountryFlag(country.iso_3166_1) }} {{ country.iso_3166_1 }}</mat-chip>
                  }
                </mat-chip-set>
              </div>
            }
          </div>
        </div>

        <div class="flex-1 flex justify-end items-center">
          <p-button>
            <mat-icon class="scale-150">rate_review</mat-icon>
            <span class="text-4xl font-bold">Review</span>
          </p-button>
        </div>
      </div>
    </div>
  </div>
</div>
